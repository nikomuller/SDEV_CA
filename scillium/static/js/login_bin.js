(()=>{"use strict";(()=>{var e=document.getElementById("login-form"),t=e.getAttribute("aria-endpoint"),r=e.getAttribute("aria-csrf-token"),n=e.getAttribute("aria-redirect"),s=e.querySelector("#emailorusername"),o=e.querySelector("#password"),a=e.querySelector("#login-btn"),c=document.getElementById("msg-warn"),i=document.getElementById("msg-suc");function l(e,t){switch(t){case"success":i.style.display="block",c.style.display="none",i.querySelector(".alert").innerHTML=e,setTimeout((function(){window.location.href=n}),2e3);break;case"error":i.style.display="none",c.style.display="block",c.querySelector(".alert").innerHTML=e}}a.addEventListener("click",(function(){var e={emailorusername:s.value,password:o.value};fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){switch(e.status){case"success":l(e.message,"success");break;case"error":l(e.message,"error")}}))}))})()})();