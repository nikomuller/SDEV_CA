(()=>{"use strict";(()=>{var e=document.getElementById("login-form"),t=e.getAttribute("aria-endpoint"),r=e.getAttribute("aria-csrf-token"),s=e.getAttribute("aria-redirect"),n=e.querySelector("#username"),o=e.querySelector("#email"),a=e.querySelector("#password"),c=e.querySelector("#password2"),i=e.querySelector("#login-btn"),l=document.getElementById("msg-warn"),u=document.getElementById("msg-suc");function d(e,t){switch(t){case"success":u.style.display="block",l.style.display="none",u.querySelector(".alert").innerHTML=e,setTimeout((function(){window.location.href=s}),2e3);break;case"error":u.style.display="none",l.style.display="block",l.querySelector(".alert").innerHTML=e}}i.addEventListener("click",(function(){var e={username:n.value,email:o.value,password:a.value,password2:c.value};fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){switch(e.status){case"success":d(e.message,"success");break;case"error":d(e.message,"error")}}))}))})()})();