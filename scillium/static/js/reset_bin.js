(()=>{"use strict";(()=>{var e=document.getElementById("reset-form"),t=e.getAttribute("aria-endpoint"),r=e.getAttribute("aria-csrf-token"),s=e.getAttribute("aria-redirect"),n=document.getElementById("msg-warn"),o=document.getElementById("msg-suc"),a=e.querySelector("#old_password"),c=e.querySelector("#new_password"),i=e.querySelector("#new_password2");function l(e,t){switch(t){case"success":o.style.display="block",n.style.display="none",o.querySelector(".alert").innerHTML=e,setTimeout((function(){window.location.href=s}),2e3);break;case"error":o.style.display="none",n.style.display="block",n.querySelector(".alert").innerHTML=e}}e.querySelector("#reset-btn").addEventListener("click",(function(){var e={old_password:a.value,new_password:c.value,new_password2:i.value};fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":r},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){switch(e.status){case"success":l(e.message,"success");break;case"error":l(e.message,"error")}}))}))})()})();